<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ NovaTech">
    <title>NovaTech - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%232563eb'/%3E%3Ctext x='50' y='70' font-size='60' font-weight='bold' fill='white' text-anchor='middle' font-family='Arial, sans-serif'%3ETS%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="logo">
                    <a href="index.html" class="logo__link">
                        <img src="https://via.placeholder.com/40x40/2563eb/ffffff?text=NT" alt="NovaTech Logo" class="logo__image" onerror="this.style.display='none'">
                        <span class="logo__text">NovaTech</span>
                    </a>
                </div>
                <div class="header__search">
                    <div class="search-box">
                        <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." autocomplete="off">
                        <button type="button" id="searchBtn" class="search-btn" aria-label="–ü–æ–∏—Å–∫">üîç</button>
                        <div id="searchResults" class="search-results"></div>
                    </div>
                </div>
                <div class="header__actions">
                    <div class="city-selector" id="citySelector" title="–í—ã–±—Ä–∞—Ç—å –≥–æ—Ä–æ–¥">
                        <span class="city-icon">üìç</span>
                        <span class="city-name">–ú–æ—Å–∫–≤–∞</span>
                    </div>
                    <div class="favorites-icon" onclick="window.location.href='favorites.html'" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
                        <span class="favorites-badge" style="display: none;">0</span>
                    </div>
                    <div class="cart-icon" onclick="window.location.href='order-form.html'" title="–ö–æ—Ä–∑–∏–Ω–∞">
                        <span class="cart-badge" style="display: none;">0</span>
                    </div>
                    <div class="account-icon" onclick="window.location.href='account.html'" title="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç">
                    </div>
                </div>
                <button class="burger" id="burger" aria-label="–ú–µ–Ω—é">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar-nav">
        <nav class="nav nav--sidebar">
            <ul class="nav__list nav__list--vertical">
                <li class="nav__item">
                    <a href="index.html" class="nav__link">
                        <span class="nav__icon">üè†</span>
                        <span class="nav__text">–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="gallery.html" class="nav__link">
                        <span class="nav__icon">üì¶</span>
                        <span class="nav__text">–ö–∞—Ç–∞–ª–æ–≥</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="order-form.html" class="nav__link">
                        <span class="nav__icon">üõí</span>
                        <span class="nav__text">–ö–æ—Ä–∑–∏–Ω–∞</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="favorites.html" class="nav__link">
                        <span class="nav__icon">‚≠ê</span>
                        <span class="nav__text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="account.html" class="nav__link">
                        <span class="nav__icon">üë§</span>
                        <span class="nav__text">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content Wrapper -->
    <div class="main-wrapper">
    <!-- Product Section -->
    <section class="product-detail">
        <div class="container">
            <div class="product-detail__content">
                <div class="product-detail__images">
                    <div class="product-detail__main-image-wrapper">
                        <button class="image-nav-btn image-nav-btn--prev" id="prevImageBtn" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">‚Äπ</button>
                        <div class="product-detail__main-image" id="zoomContainer">
                            <img src="https://via.placeholder.com/600x600?text=–°–º–∞—Ä—Ç—Ñ–æ–Ω+Pro+Max" alt="–°–º–∞—Ä—Ç—Ñ–æ–Ω Pro Max" id="mainImage">
                        </div>
                        <button class="image-nav-btn image-nav-btn--next" id="nextImageBtn" aria-label="–°–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">‚Ä∫</button>
                    </div>
                    <div class="product-detail__thumbnails-wrapper">
                        <div class="product-detail__thumbnails" id="thumbnailsContainer">
                            <!-- –ú–∏–Ω–∏–∞—Ç—é—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>
                <div class="product-detail__info">
                    <h1 class="product-detail__title">–°–º–∞—Ä—Ç—Ñ–æ–Ω Pro Max</h1>
                    <div class="product-detail__rating">
                        <span class="rating__stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <span class="rating__count">(127 –æ—Ç–∑—ã–≤–æ–≤)</span>
                    </div>
                    <div class="product-detail__price">
                        <span class="price__current">29 990 ‚ÇΩ</span>
                        <span class="price__old">34 990 ‚ÇΩ</span>
                    </div>
                    <div class="product-detail__description">
                        <h3>–û–ø–∏—Å–∞–Ω–∏–µ</h3>
                        <p>–ú–æ—â–Ω—ã–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å –æ—Ç–ª–∏—á–Ω–æ–π –∫–∞–º–µ—Ä–æ–π, –±–æ–ª—å—à–∏–º –¥–∏—Å–ø–ª–µ–µ–º –∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º —Ä–∞–±–æ—Ç—ã –±–∞—Ç–∞—Ä–µ–∏. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π.</p>
                        <ul>
                            <li>–≠–∫—Ä–∞–Ω: 6.7" Super Retina XDR</li>
                            <li>–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä: A17 Pro</li>
                            <li>–ö–∞–º–µ—Ä–∞: 48 –ú–ø –æ—Å–Ω–æ–≤–Ω–∞—è, 12 –ú–ø —Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–∞—è</li>
                            <li>–ü–∞–º—è—Ç—å: 128 –ì–ë</li>
                            <li>–ë–∞—Ç–∞—Ä–µ—è: –¥–æ 29 —á–∞—Å–æ–≤ –≤–∏–¥–µ–æ</li>
                        </ul>
                    </div>
                    <div class="product-detail__quantity">
                        <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                        <div class="quantity-selector">
                            <button class="quantity-btn" id="decreaseBtn">-</button>
                            <input type="number" id="quantity" value="1" min="1" max="10">
                            <button class="quantity-btn" id="increaseBtn">+</button>
                        </div>
                    </div>
                    <div class="product-detail__actions">
                        <div class="product-detail__actions-main">
                            <button class="btn btn--primary btn--large" id="addToCartBtn">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                        </div>
                        <div class="product-detail__actions-secondary">
                            <button class="btn btn--outline btn--large favorite-btn-product" id="addToFavoritesBtn" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
                        </div>
                    </div>
                    <div class="product-detail__features">
                        <div class="feature">
                            <span class="feature__icon">üöö</span>
                            <span>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</span>
                        </div>
                        <div class="feature">
                            <span class="feature__icon">üîÑ</span>
                            <span>–í–æ–∑–≤—Ä–∞—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π</span>
                        </div>
                        <div class="feature">
                            <span class="feature__icon">üõ°Ô∏è</span>
                            <span>–ì–∞—Ä–∞–Ω—Ç–∏—è 12 –º–µ—Å—è—Ü–µ–≤</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Reviews Section -->
            <div class="product-reviews" id="reviewsSection">
                <h2 class="section__title">–û—Ç–∑—ã–≤—ã</h2>
                <div class="reviews-summary">
                    <div class="reviews-rating">
                        <span class="reviews-rating__value" id="reviewsRatingValue">0</span>
                        <div class="reviews-rating__stars" id="reviewsRatingStars"></div>
                        <span class="reviews-rating__count" id="reviewsRatingCount">0 –æ—Ç–∑—ã–≤–æ–≤</span>
                    </div>
                </div>
                <div class="reviews-list" id="reviewsList">
                    <!-- –û—Ç–∑—ã–≤—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </section>
    </div>
    <!-- End Main Content Wrapper -->

    <!-- City Modal -->
    <div class="modal" id="cityModal" style="display: none;">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <button class="modal__close" id="cityModalClose">&times;</button>
            <h2 class="modal__title">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</h2>
            <div class="city-list" id="cityList"></div>
        </div>
    </div>

    <!-- Zoom Modal -->
    <div class="zoom-modal" id="zoomModal">
        <button class="zoom-modal__close" id="zoomModalClose">&times;</button>
        <div class="zoom-modal__content">
            <img src="" alt="" id="zoomModalImage">
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">–û –Ω–∞—Å</h3>
                    <p class="footer__text">NovaTech - –≤–µ–¥—É—â–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –†–æ—Å—Å–∏–∏.</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p class="footer__text">Email: info@novatech.ru</p>
                    <p class="footer__text">–¢–µ–ª–µ—Ñ–æ–Ω: +7 (800) 123-45-67</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <ul class="footer__nav">
                        <li><a href="index.html" class="footer__link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="gallery.html" class="footer__link">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                        <li><a href="order-form.html" class="footer__link">–ó–∞–∫–∞–∑–∞—Ç—å</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 NovaTech. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="js/navigation.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/search.js"></script>
    <script src="js/favorites.js"></script>
    <script src="js/account.js"></script>
    <script src="js/city.js"></script>
    <script src="js/product.js"></script>
    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–∞ –ø–æ ID –∏–∑ URL
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = parseInt(urlParams.get('id'));
            
            if (!productId) {
                window.location.href = 'index.html';
                return;
            }
            
            const product = getProductById(productId);
            if (!product) {
                window.location.href = 'index.html';
                return;
            }
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞
            const mainImage = document.getElementById('mainImage');
            const title = document.querySelector('.product-detail__title');
            const priceCurrent = document.querySelector('.price__current');
            const priceOld = document.querySelector('.price__old');
            const description = document.querySelector('.product-detail__description p');
            const characteristicsList = document.querySelector('.product-detail__description ul');
            const ratingStars = document.querySelector('.rating__stars');
            const ratingCount = document.querySelector('.rating__count');
            const thumbnails = document.querySelector('.product-detail__thumbnails');
            
            if (mainImage) {
                mainImage.src = product.image;
                mainImage.alt = product.name;
                mainImage.onerror = function() {
                    this.src = 'https://via.placeholder.com/600x600?text=' + encodeURIComponent(product.name);
                };
            }
            
            if (title) title.textContent = product.name;
            if (priceCurrent) priceCurrent.textContent = product.price.toLocaleString('ru-RU') + ' ‚ÇΩ';
            if (priceOld) {
                if (product.oldPrice) {
                    priceOld.textContent = product.oldPrice.toLocaleString('ru-RU') + ' ‚ÇΩ';
                    priceOld.style.display = 'inline';
                } else {
                    priceOld.style.display = 'none';
                }
            }
            
            if (description) description.textContent = product.description;
            
            if (characteristicsList) {
                characteristicsList.innerHTML = '';
                Object.entries(product.characteristics).forEach(([key, value]) => {
                    const li = document.createElement('li');
                    li.textContent = `${key}: ${value}`;
                    characteristicsList.appendChild(li);
                });
            }
            
            if (ratingStars) {
                const fullStars = Math.floor(product.rating);
                const hasHalfStar = product.rating % 1 >= 0.5;
                ratingStars.textContent = '‚òÖ'.repeat(fullStars) + (hasHalfStar ? '¬Ω' : '') + '‚òÜ'.repeat(5 - fullStars - (hasHalfStar ? 1 : 0));
            }
            
            if (ratingCount) {
                ratingCount.textContent = `(${product.reviewsCount} ${product.reviewsCount === 1 ? '–æ—Ç–∑—ã–≤' : product.reviewsCount < 5 ? '–æ—Ç–∑—ã–≤–∞' : '–æ—Ç–∑—ã–≤–æ–≤'})`;
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä
            const thumbnailsContainer = document.getElementById('thumbnailsContainer');
            let currentImageIndex = 0;
            if (thumbnailsContainer && product.images && product.images.length > 0) {
                thumbnailsContainer.innerHTML = '';
                product.images.forEach((img, index) => {
                    const thumbnail = document.createElement('img');
                    thumbnail.src = img;
                    thumbnail.alt = `${product.name} - –≤–∏–¥ ${index + 1}`;
                    thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                    thumbnail.setAttribute('data-image', img);
                    thumbnail.setAttribute('data-index', index);
                    thumbnail.onerror = function() {
                        this.src = 'https://via.placeholder.com/150x150?text=' + encodeURIComponent(product.name);
                    };
                    thumbnail.addEventListener('click', function() {
                        currentImageIndex = index;
                        updateMainImage(img, index);
                    });
                    thumbnailsContainer.appendChild(thumbnail);
                });
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            function updateMainImage(imageSrc, index) {
                if (mainImage) {
                    mainImage.src = imageSrc;
                    mainImage.alt = `${product.name} - –≤–∏–¥ ${index + 1}`;
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä—ã
                if (thumbnailsContainer) {
                    thumbnailsContainer.querySelectorAll('.thumbnail').forEach((thumb, idx) => {
                        thumb.classList.toggle('active', idx === index);
                    });
                }
            }
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Å—Ç—Ä–µ–ª–∫–∞–º–∏
            const prevImageBtn = document.getElementById('prevImageBtn');
            const nextImageBtn = document.getElementById('nextImageBtn');
            
            if (prevImageBtn && product.images && product.images.length > 1) {
                prevImageBtn.style.display = 'flex';
                prevImageBtn.addEventListener('click', function() {
                    currentImageIndex = (currentImageIndex - 1 + product.images.length) % product.images.length;
                    updateMainImage(product.images[currentImageIndex], currentImageIndex);
                });
            } else if (prevImageBtn) {
                prevImageBtn.style.display = 'none';
            }
            
            if (nextImageBtn && product.images && product.images.length > 1) {
                nextImageBtn.style.display = 'flex';
                nextImageBtn.addEventListener('click', function() {
                    currentImageIndex = (currentImageIndex + 1) % product.images.length;
                    updateMainImage(product.images[currentImageIndex], currentImageIndex);
                });
            } else if (nextImageBtn) {
                nextImageBtn.style.display = 'none';
            }
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
            document.addEventListener('keydown', function(e) {
                if (product.images && product.images.length > 1) {
                    if (e.key === 'ArrowLeft') {
                        currentImageIndex = (currentImageIndex - 1 + product.images.length) % product.images.length;
                        updateMainImage(product.images[currentImageIndex], currentImageIndex);
                    } else if (e.key === 'ArrowRight') {
                        currentImageIndex = (currentImageIndex + 1) % product.images.length;
                        updateMainImage(product.images[currentImageIndex], currentImageIndex);
                    }
                }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
            setTimeout(() => {
                const reviewsSection = document.getElementById('reviewsSection');
                const reviewsList = document.getElementById('reviewsList');
                const reviewsRatingValue = document.getElementById('reviewsRatingValue');
                const reviewsRatingStars = document.getElementById('reviewsRatingStars');
                const reviewsRatingCount = document.getElementById('reviewsRatingCount');
                
                if (product.reviews && product.reviews.length > 0) {
                    if (reviewsSection) reviewsSection.style.display = 'block';
                    
                    if (reviewsRatingValue) {
                        reviewsRatingValue.textContent = product.rating.toFixed(1);
                    }
                    
                    if (reviewsRatingStars) {
                        const fullStars = Math.floor(product.rating);
                        const hasHalfStar = product.rating % 1 >= 0.5;
                        reviewsRatingStars.innerHTML = 
                            '‚òÖ'.repeat(fullStars) + 
                            (hasHalfStar ? '¬Ω' : '') + 
                            '‚òÜ'.repeat(5 - fullStars - (hasHalfStar ? 1 : 0));
                    }
                    
                    if (reviewsRatingCount) {
                        const count = product.reviewsCount;
                        reviewsRatingCount.textContent = `${count} ${count === 1 ? '–æ—Ç–∑—ã–≤' : count < 5 ? '–æ—Ç–∑—ã–≤–∞' : '–æ—Ç–∑—ã–≤–æ–≤'}`;
                    }
                    
                    if (reviewsList) {
                        reviewsList.innerHTML = '';
                        product.reviews.forEach(review => {
                            const reviewItem = document.createElement('div');
                            reviewItem.className = 'review-item';
                            reviewItem.innerHTML = `
                                <div class="review-item__header">
                                    <div class="review-item__author">${review.author}</div>
                                    <div class="review-item__date">${review.date}</div>
                                </div>
                                <div class="review-item__rating">
                                    ${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}
                                </div>
                                <div class="review-item__text">${review.text}</div>
                            `;
                            reviewsList.appendChild(reviewItem);
                        });
                    }
                } else {
                    if (reviewsSection) reviewsSection.style.display = 'none';
                }
            }, 100);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É"
            const addToCartBtn = document.getElementById('addToCartBtn');
            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', function() {
                    const quantity = parseInt(document.getElementById('quantity').value) || 1;
                    cart.addItem(productId, quantity);
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
            const addToFavoritesBtn = document.getElementById('addToFavoritesBtn');
            if (addToFavoritesBtn && typeof favorites !== 'undefined') {
                if (favorites.hasItem(productId)) {
                    addToFavoritesBtn.classList.add('active');
                    addToFavoritesBtn.textContent = '‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º';
                    addToFavoritesBtn.setAttribute('title', '–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ');
                }
                
                addToFavoritesBtn.addEventListener('click', function() {
                    const isActive = favorites.toggleItem(productId);
                    if (isActive) {
                        this.classList.add('active');
                        this.textContent = '‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º';
                        this.setAttribute('title', '–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ');
                    } else {
                        this.classList.remove('active');
                        this.textContent = '‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ';
                        this.setAttribute('title', '–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ');
                    }
                });
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ city.js
        });
    </script>
</body>
</html>

