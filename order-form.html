<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ NovaTech">
    <title>NovaTech - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%232563eb'/%3E%3Ctext x='50' y='70' font-size='60' font-weight='bold' fill='white' text-anchor='middle' font-family='Arial, sans-serif'%3ETS%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="logo">
                    <a href="index.html" class="logo__link">
                        <img src="https://via.placeholder.com/40x40/2563eb/ffffff?text=NT" alt="NovaTech Logo" class="logo__image" onerror="this.style.display='none'">
                        <span class="logo__text">NovaTech</span>
                    </a>
                </div>
                <div class="header__search">
                    <div class="search-box">
                        <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." autocomplete="off">
                        <button type="button" id="searchBtn" class="search-btn" aria-label="–ü–æ–∏—Å–∫">üîç</button>
                        <div id="searchResults" class="search-results"></div>
                    </div>
                </div>
                <div class="header__actions">
                    <div class="city-selector" id="citySelector" title="–í—ã–±—Ä–∞—Ç—å –≥–æ—Ä–æ–¥">
                        <span class="city-icon">üìç</span>
                        <span class="city-name">–ú–æ—Å–∫–≤–∞</span>
                    </div>
                    <div class="favorites-icon" onclick="window.location.href='favorites.html'" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
                        <span class="favorites-badge" style="display: none;">0</span>
                    </div>
                    <div class="cart-icon" onclick="window.location.href='order-form.html'" title="–ö–æ—Ä–∑–∏–Ω–∞">
                        <span class="cart-badge" style="display: none;">0</span>
                    </div>
                    <div class="account-icon" onclick="window.location.href='account.html'" title="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç">
                    </div>
                </div>
                <button class="burger" id="burger" aria-label="–ú–µ–Ω—é">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar-nav">
        <nav class="nav nav--sidebar">
            <ul class="nav__list nav__list--vertical">
                <li class="nav__item">
                    <a href="index.html" class="nav__link">
                        <span class="nav__icon">üè†</span>
                        <span class="nav__text">–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="gallery.html" class="nav__link">
                        <span class="nav__icon">üì¶</span>
                        <span class="nav__text">–ö–∞—Ç–∞–ª–æ–≥</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="order-form.html" class="nav__link nav__link--active">
                        <span class="nav__icon">üõí</span>
                        <span class="nav__text">–ö–æ—Ä–∑–∏–Ω–∞</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="favorites.html" class="nav__link">
                        <span class="nav__icon">‚≠ê</span>
                        <span class="nav__text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="account.html" class="nav__link">
                        <span class="nav__icon">üë§</span>
                        <span class="nav__text">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content Wrapper -->
    <div class="main-wrapper">
    <!-- Cart Section -->
    <section class="form-section">
        <div class="container">
            <h1 class="section__title">–ö–æ—Ä–∑–∏–Ω–∞</h1>
            
            <!-- Cart Items -->
            <div id="cartItems" class="cart-items">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <!-- Cart Summary -->
            <div id="cartSummary" class="cart-summary" style="display: none;">
                <div class="cart-summary__total">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <span id="cartTotal">0 ‚ÇΩ</span>
                </div>
                <div class="cart-summary__actions">
                    <button type="button" class="btn btn--outline" onclick="window.location.href='gallery.html'">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
                    <button type="button" class="btn btn--primary" onclick="document.getElementById('orderForm').scrollIntoView({behavior: 'smooth'})">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
            
            <!-- Order Form -->
            <form class="order-form" id="orderForm" novalidate style="display: none;">
                <!-- Personal Information -->
                <fieldset class="form-fieldset">
                    <legend class="form-legend">–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</legend>
                    
                    <div class="form-group">
                        <label for="firstName" class="form-label">–ò–º—è <span class="required">*</span></label>
                        <input 
                            type="text" 
                            id="firstName" 
                            name="firstName" 
                            class="form-input" 
                            required
                            minlength="2"
                            data-error="–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞"
                        >
                        <span class="error-message" id="firstNameError"></span>
                    </div>

                    <div class="form-group">
                        <label for="lastName" class="form-label">–§–∞–º–∏–ª–∏—è <span class="required">*</span></label>
                        <input 
                            type="text" 
                            id="lastName" 
                            name="lastName" 
                            class="form-input" 
                            required
                            minlength="2"
                            data-error="–§–∞–º–∏–ª–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞"
                        >
                        <span class="error-message" id="lastNameError"></span>
                    </div>

                    <div class="form-group">
                        <label for="email" class="form-label">Email <span class="required">*</span></label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-input" 
                            required
                            data-error="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å"
                        >
                        <span class="error-message" id="emailError"></span>
                    </div>

                    <div class="form-group">
                        <label for="phone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω <span class="required">*</span></label>
                        <input 
                            type="tel" 
                            id="phone" 
                            name="phone" 
                            class="form-input" 
                            required
                            pattern="[+]?[0-9\s\-()]+"
                            data-error="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
                        >
                        <span class="error-message" id="phoneError"></span>
                    </div>

                    <div class="form-group">
                        <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞) <span class="required">*</span></label>
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            class="form-input" 
                            required
                            minlength="8"
                            data-error="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤"
                        >
                        <span class="error-message" id="passwordError"></span>
                    </div>
                </fieldset>

                <!-- Additional Options -->
                <fieldset class="form-fieldset">
                    <legend class="form-legend">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏</legend>
                    
                    <div class="form-group">
                        <label class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="options" value="warranty">
                                <span>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è (+15%)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="options" value="insurance">
                                <span>–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –Ω–∞ –≥–æ–¥ (+5%)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="options" value="installation">
                                <span>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (+2 000 ‚ÇΩ)</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="delivery" value="pickup" checked>
                                <span>–°–∞–º–æ–≤—ã–≤–æ–∑</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="delivery" value="delivery">
                                <span>–î–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="delivery" value="post">
                                <span>–ü–æ—á—Ç–∞ –†–æ—Å—Å–∏–∏</span>
                            </label>
                        </div>
                        <span class="error-message" id="deliveryError"></span>
                    </div>

                    <!-- Dynamic Delivery Address Fields -->
                    <div class="delivery-address" id="deliveryAddress" style="display: none;">
                        <div class="form-group">
                            <label for="address" class="form-label">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="required">*</span></label>
                            <textarea 
                                id="address" 
                                name="address" 
                                class="form-textarea" 
                                rows="3"
                                data-error="–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏"
                            ></textarea>
                            <span class="error-message" id="addressError"></span>
                        </div>

                        <div class="form-group">
                            <label for="postalCode" class="form-label">–ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å</label>
                            <input 
                                type="text" 
                                id="postalCode" 
                                name="postalCode" 
                                class="form-input"
                                pattern="[0-9]{6}"
                                data-error="–ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 6 —Ü–∏—Ñ—Ä"
                            >
                            <span class="error-message" id="postalCodeError"></span>
                        </div>
                    </div>
                </fieldset>

                <!-- Additional Services -->
                <fieldset class="form-fieldset">
                    <legend class="form-legend">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</legend>
                    
                    <div id="certificatesContainer">
                        <div class="certificate-item">
                            <div class="form-group">
                                <label for="certificateType0" class="form-label">–¢–∏–ø —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</label>
                                <input type="text" id="certificateType0" name="certificateType[]" class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="certificateNumber0" class="form-label">–ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</label>
                                <input type="text" id="certificateNumber0" name="certificateNumber[]" class="form-input">
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn btn--outline" id="addCertificateBtn">+ –î–æ–±–∞–≤–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</button>
                </fieldset>

                <!-- Comment and File Upload -->
                <fieldset class="form-fieldset">
                    <legend class="form-legend">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</legend>
                    
                    <div class="form-group">
                        <label for="comment" class="form-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</label>
                        <textarea 
                            id="comment" 
                            name="comment" 
                            class="form-textarea" 
                            rows="4"
                            placeholder="–£–∫–∞–∂–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ..."
                        ></textarea>
                    </div>

                    <div class="form-group">
                        <label for="fileUpload" class="form-label">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <input 
                            type="file" 
                            id="fileUpload" 
                            name="fileUpload" 
                            class="form-file"
                            accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
                        >
                        <span class="file-info">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 5 –ú–ë</span>
                        <span class="error-message" id="fileError"></span>
                    </div>
                </fieldset>

                <!-- Submit Button -->
                <div class="form-actions">
                    <button type="submit" class="btn btn--primary btn--large">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
                    <button type="reset" class="btn btn--outline btn--large">–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
                </div>
            </form>
        </div>
    </section>
    </div>
    <!-- End Main Content Wrapper -->

    <!-- Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <button class="modal__close" id="modalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2 class="modal__title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
            <p class="modal__text">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑?</p>
            <div class="modal__actions">
                <button class="btn btn--primary" id="confirmBtn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                <button class="btn btn--outline" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <button class="modal__close" id="successModalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2 class="modal__title">–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</h2>
            <p class="modal__text">–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.</p>
            <div class="modal__actions">
                <button class="btn btn--primary" id="okBtn">–û–ö</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">–û –Ω–∞—Å</h3>
                    <p class="footer__text">NovaTech - –≤–µ–¥—É—â–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –†–æ—Å—Å–∏–∏.</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p class="footer__text">Email: info@novatech.ru</p>
                    <p class="footer__text">–¢–µ–ª–µ—Ñ–æ–Ω: +7 (800) 123-45-67</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <ul class="footer__nav">
                        <li><a href="index.html" class="footer__link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="gallery.html" class="footer__link">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                        <li><a href="order-form.html" class="footer__link">–ó–∞–∫–∞–∑–∞—Ç—å</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 NovaTech. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="js/navigation.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/search.js"></script>
    <script src="js/favorites.js"></script>
    <script src="js/account.js"></script>
    <script src="js/city.js"></script>
    <script src="js/form.js"></script>
    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
        document.addEventListener('DOMContentLoaded', function() {
            const cartItemsContainer = document.getElementById('cartItems');
            const cartSummary = document.getElementById('cartSummary');
            const orderForm = document.getElementById('orderForm');
            const cartTotal = document.getElementById('cartTotal');
            
            let renderTimeout = null;
            function renderCart() {
                // –£–±–∏—Ä–∞–µ–º –º–µ—Ä—Ü–∞–Ω–∏–µ - –∏—Å–ø–æ–ª—å–∑—É–µ–º debounce
                if (renderTimeout) {
                    clearTimeout(renderTimeout);
                }
                
                renderTimeout = setTimeout(() => {
                    const items = cart.getItems();
                    
                    if (items.length === 0) {
                        cartItemsContainer.innerHTML = `
                            <div class="cart-empty">
                                <div class="cart-empty__icon">üõí</div>
                                <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h2>
                                <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</p>
                                <a href="index.html" class="btn btn--primary" style="margin-top: 20px;">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
                            </div>
                        `;
                        cartSummary.style.display = 'none';
                        orderForm.style.display = 'none';
                        return;
                    }
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—á–∞–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â–µ –Ω–µ –æ—Ç–º–µ—á–µ–Ω—ã
                    items.forEach(item => {
                        if (!cart.isItemSelected(item.id)) {
                            cart.setItemSelected(item.id, true);
                        }
                    });
                    
                    cartItemsContainer.innerHTML = '';
                    items.forEach(item => {
                        const product = getProductById(item.id);
                        const isSelected = cart.isItemSelected(item.id);
                        const cartItem = document.createElement('div');
                        cartItem.className = 'cart-item';
                        cartItem.innerHTML = `
                            <label class="cart-item__checkbox-label">
                                <input type="checkbox" class="cart-item__checkbox" 
                                       data-product-id="${item.id}" 
                                       ${isSelected ? 'checked' : ''}
                                       onchange="toggleCartItem(${item.id}, this.checked)">
                                <span class="cart-item__checkbox-custom"></span>
                            </label>
                            <img src="${item.image}" alt="${item.name}" class="cart-item__image" 
                                 onerror="this.src='https://via.placeholder.com/80x80?text=${encodeURIComponent(item.name)}'">
                            <div class="cart-item__info">
                                <h3 class="cart-item__name">${item.name}</h3>
                                <div class="cart-item__price">${item.price.toLocaleString('ru-RU')} ‚ÇΩ</div>
                            </div>
                            <div class="cart-item__quantity">
                                <button type="button" class="quantity-btn" onclick="updateCartQuantity(${item.id}, ${item.quantity - 1})">-</button>
                                <input type="number" value="${item.quantity}" min="1" max="10" 
                                       onchange="updateCartQuantity(${item.id}, parseInt(this.value))">
                                <button type="button" class="quantity-btn" onclick="updateCartQuantity(${item.id}, ${item.quantity + 1})">+</button>
                            </div>
                            <div class="cart-item__total">${(item.price * item.quantity).toLocaleString('ru-RU')} ‚ÇΩ</div>
                            <button type="button" class="cart-item__remove" onclick="removeFromCart(${item.id})" title="–£–¥–∞–ª–∏—Ç—å">√ó</button>
                        `;
                        cartItemsContainer.appendChild(cartItem);
                    });
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã (—Ç–æ–ª—å–∫–æ –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã)
                    updateCartTotal();
                    
                    cartSummary.style.display = 'block';
                    orderForm.style.display = 'block';
                }, 50);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã
            function updateCartTotal() {
                const selectedItems = cart.getSelectedItems();
                const total = selectedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                if (cartTotal) {
                    cartTotal.textContent = total.toLocaleString('ru-RU') + ' ‚ÇΩ';
                }
            }
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω–æ–π
            window.updateCartQuantity = function(productId, quantity) {
                cart.updateQuantity(productId, quantity);
                renderCart();
            };
            
            window.removeFromCart = function(productId) {
                cart.removeItem(productId);
                renderCart();
            };
            
            window.toggleCartItem = function(productId, isSelected) {
                cart.setItemSelected(productId, isSelected);
                updateCartTotal();
            };
            
            // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
            renderCart();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ city.js
        });
    </script>
</body>
</html>

