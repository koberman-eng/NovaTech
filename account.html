<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ NovaTech">
    <title>NovaTech - –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%232563eb'/%3E%3Ctext x='50' y='70' font-size='60' font-weight='bold' fill='white' text-anchor='middle' font-family='Arial, sans-serif'%3ETS%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="logo">
                    <a href="index.html" class="logo__link">
                        <img src="https://via.placeholder.com/40x40/2563eb/ffffff?text=NT" alt="NovaTech Logo" class="logo__image" onerror="this.style.display='none'">
                        <span class="logo__text">NovaTech</span>
                    </a>
                </div>
                <div class="header__search">
                    <div class="search-box">
                        <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." autocomplete="off">
                        <button type="button" id="searchBtn" class="search-btn" aria-label="–ü–æ–∏—Å–∫">üîç</button>
                        <div id="searchResults" class="search-results"></div>
                    </div>
                </div>
                <div class="header__actions">
                    <div class="city-selector" id="citySelector" title="–í—ã–±—Ä–∞—Ç—å –≥–æ—Ä–æ–¥">
                        <span class="city-icon">üìç</span>
                        <span class="city-name">–ú–æ—Å–∫–≤–∞</span>
                    </div>
                    <div class="favorites-icon" onclick="window.location.href='favorites.html'" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
                        <span class="favorites-badge" style="display: none;">0</span>
                    </div>
                    <div class="cart-icon" onclick="window.location.href='order-form.html'" title="–ö–æ—Ä–∑–∏–Ω–∞">
                        <span class="cart-badge" style="display: none;">0</span>
                    </div>
                    <div class="account-icon" onclick="window.location.href='account.html'" title="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç">
                    </div>
                </div>
                <button class="burger" id="burger" aria-label="–ú–µ–Ω—é">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar-nav">
        <nav class="nav nav--sidebar">
            <ul class="nav__list nav__list--vertical">
                <li class="nav__item">
                    <a href="index.html" class="nav__link">
                        <span class="nav__icon">üè†</span>
                        <span class="nav__text">–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="gallery.html" class="nav__link">
                        <span class="nav__icon">üì¶</span>
                        <span class="nav__text">–ö–∞—Ç–∞–ª–æ–≥</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="order-form.html" class="nav__link">
                        <span class="nav__icon">üõí</span>
                        <span class="nav__text">–ö–æ—Ä–∑–∏–Ω–∞</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="favorites.html" class="nav__link">
                        <span class="nav__icon">‚≠ê</span>
                        <span class="nav__text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                    </a>
                </li>
                <li class="nav__item">
                    <a href="account.html" class="nav__link nav__link--active">
                        <span class="nav__icon">üë§</span>
                        <span class="nav__text">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content Wrapper -->
    <div class="main-wrapper">
    <!-- Account Section -->
    <section class="account-section">
        <div class="container">
            <h1 class="section__title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
            
            <div id="loginForm" class="account-login" style="display: none;">
                <div class="account-card">
                    <h2>–í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
                    <form id="loginFormElement">
                        <div class="form-group">
                            <label for="loginEmail" class="form-label">Email <span class="required">*</span></label>
                            <input type="email" id="loginEmail" name="email" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword" class="form-label">–ü–∞—Ä–æ–ª—å <span class="required">*</span></label>
                            <input type="password" id="loginPassword" name="password" class="form-input" required>
                        </div>
                        <button type="submit" class="btn btn--primary btn--large">–í–æ–π—Ç–∏</button>
                    </form>
                    <p class="account-switch">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="showRegister">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                </div>
            </div>

            <div id="registerForm" class="account-register" style="display: none;">
                <div class="account-card">
                    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                    <form id="registerFormElement">
                        <div class="form-group">
                            <label for="regName" class="form-label">–ò–º—è <span class="required">*</span></label>
                            <input type="text" id="regName" name="name" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="regEmail" class="form-label">Email <span class="required">*</span></label>
                            <input type="email" id="regEmail" name="email" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="regPhone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="regPhone" name="phone" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="regPassword" class="form-label">–ü–∞—Ä–æ–ª—å <span class="required">*</span></label>
                            <input type="password" id="regPassword" name="password" class="form-input" required minlength="8">
                        </div>
                        <button type="submit" class="btn btn--primary btn--large">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    </form>
                    <p class="account-switch">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="showLogin">–í–æ–π—Ç–∏</a></p>
                </div>
            </div>

            <div id="accountContent" class="account-content" style="display: none;">
                <div class="account-layout">
                    <div class="account-tabs account-tabs--vertical">
                        <button class="account-tab active" data-tab="profile">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
                        <button class="account-tab" data-tab="orders">üì¶ –ó–∞–∫–∞–∑—ã</button>
                        <button class="account-tab" data-tab="favorites">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
                        <button class="account-tab" data-tab="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </div>

                    <div class="account-tabs-content">
                        <div class="account-tab-content active" id="tabProfile">
                    <div class="account-card">
                        <h2>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
                        <form id="profileForm">
                            <div class="form-group">
                                <label for="profileName" class="form-label">–ò–º—è</label>
                                <input type="text" id="profileName" name="name" class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="profileEmail" class="form-label">Email</label>
                                <input type="email" id="profileEmail" name="email" class="form-input" readonly>
                            </div>
                            <div class="form-group">
                                <label for="profilePhone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" id="profilePhone" name="phone" class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="profileAddress" class="form-label">–ê–¥—Ä–µ—Å</label>
                                <textarea id="profileAddress" name="address" class="form-textarea" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn btn--primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        </form>
                    </div>
                        </div>

                        <div class="account-tab-content" id="tabOrders">
                            <div class="account-card">
                                <h2>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h2>
                                <div id="ordersList" class="orders-list">
                                    <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>

                        <div class="account-tab-content" id="tabFavorites">
                            <div class="account-card">
                                <h2>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
                                <div id="favoritesList" class="favorites-list">
                                    <!-- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>

                        <div class="account-tab-content" id="tabSettings">
                            <div class="account-card">
                                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                                <button class="btn btn--outline" id="logoutBtn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    </div>
    <!-- End Main Content Wrapper -->

    <!-- City Modal -->
    <div class="modal" id="cityModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <button class="modal__close" id="cityModalClose">&times;</button>
            <h2 class="modal__title">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</h2>
            <div class="city-list" id="cityList">
                <!-- –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">–û –Ω–∞—Å</h3>
                    <p class="footer__text">NovaTech - –≤–µ–¥—É—â–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –†–æ—Å—Å–∏–∏.</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p class="footer__text">Email: info@novatech.ru</p>
                    <p class="footer__text">–¢–µ–ª–µ—Ñ–æ–Ω: +7 (800) 123-45-67</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <ul class="footer__nav">
                        <li><a href="index.html" class="footer__link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="gallery.html" class="footer__link">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                        <li><a href="order-form.html" class="footer__link">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 NovaTech. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="js/navigation.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/search.js"></script>
    <script src="js/favorites.js"></script>
    <script src="js/account.js"></script>
    <script src="js/city.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ city.js
    </script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const accountContent = document.getElementById('accountContent');
            const showLogin = document.getElementById('showLogin');
            const showRegister = document.getElementById('showRegister');
            const loginFormElement = document.getElementById('loginFormElement');
            const registerFormElement = document.getElementById('registerFormElement');
            const profileForm = document.getElementById('profileForm');
            const logoutBtn = document.getElementById('logoutBtn');
            const accountTabs = document.querySelectorAll('.account-tab');
            const tabContents = document.querySelectorAll('.account-tab-content');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            if (account.isLoggedIn()) {
                loginForm.style.display = 'none';
                registerForm.style.display = 'none';
                accountContent.style.display = 'block';
                loadAccountData();
            } else {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
                accountContent.style.display = 'none';
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—Ö–æ–¥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
            if (showLogin) {
                showLogin.addEventListener('click', function(e) {
                    e.preventDefault();
                    loginForm.style.display = 'block';
                    registerForm.style.display = 'none';
                });
            }

            if (showRegister) {
                showRegister.addEventListener('click', function(e) {
                    e.preventDefault();
                    loginForm.style.display = 'none';
                    registerForm.style.display = 'block';
                });
            }

            // –í—Ö–æ–¥
            if (loginFormElement) {
                loginFormElement.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = document.getElementById('loginEmail').value;
                    const password = document.getElementById('loginPassword').value;
                    
                    if (account.login(email, password)) {
                        loginForm.style.display = 'none';
                        accountContent.style.display = 'block';
                        loadAccountData();
                        alert('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!');
                    }
                });
            }

            // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            if (registerFormElement) {
                registerFormElement.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = document.getElementById('regEmail').value;
                    const password = document.getElementById('regPassword').value;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –ª–∏ —É–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email
                    const existingUser = account.loadUser();
                    if (existingUser && existingUser.email === email) {
                        alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É.');
                        registerForm.style.display = 'none';
                        loginForm.style.display = 'block';
                        return;
                    }
                    
                    const userData = {
                        name: document.getElementById('regName').value,
                        email: email,
                        password: password,
                        phone: document.getElementById('regPhone').value || '',
                        address: '',
                        orders: [],
                        registrationDate: new Date().toISOString()
                    };
                    
                    account.saveUser(userData);
                    alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ' + userData.name + '!');
                    registerForm.style.display = 'none';
                    accountContent.style.display = 'block';
                    loadAccountData();
                });
            }

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
            if (profileForm) {
                profileForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const userData = {
                        name: document.getElementById('profileName').value,
                        phone: document.getElementById('profilePhone').value,
                        address: document.getElementById('profileAddress').value
                    };
                    
                    if (account.updateUser(userData)) {
                        alert('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
                    }
                });
            }

            // –í—ã—Ö–æ–¥
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                        account.logout();
                        window.location.reload();
                    }
                });
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
            accountTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    accountTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === 'tab' + targetTab.charAt(0).toUpperCase() + targetTab.slice(1)) {
                            content.classList.add('active');
                        }
                    });
                });
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞
            function loadAccountData() {
                const user = account.getUser();
                if (!user) return;

                // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
                if (document.getElementById('profileName')) {
                    document.getElementById('profileName').value = user.name || '';
                }
                if (document.getElementById('profileEmail')) {
                    document.getElementById('profileEmail').value = user.email || '';
                }
                if (document.getElementById('profilePhone')) {
                    document.getElementById('profilePhone').value = user.phone || '';
                }
                if (document.getElementById('profileAddress')) {
                    document.getElementById('profileAddress').value = user.address || '';
                }

                // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
                loadOrders();
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                loadFavorites();
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
            function loadOrders() {
                const ordersList = document.getElementById('ordersList');
                const user = account.getUser();
                
                if (!ordersList || !user || !user.orders) return;

                if (user.orders.length === 0) {
                    ordersList.innerHTML = '<p style="text-align: center; color: var(--color-text-secondary);">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>';
                    return;
                }

                ordersList.innerHTML = '';
                user.orders.forEach(order => {
                    const orderItem = document.createElement('div');
                    orderItem.className = 'order-item';
                    const orderDate = new Date(order.date).toLocaleDateString('ru-RU');
                    orderItem.innerHTML = `
                        <div class="order-item__header">
                            <div class="order-item__id">–ó–∞–∫–∞–∑ #${order.id}</div>
                            <div class="order-item__date">${orderDate}</div>
                        </div>
                        <div class="order-item__status">–°—Ç–∞—Ç—É—Å: ${order.status}</div>
                        <div class="order-item__total">–°—É–º–º–∞: ${order.total ? order.total.toLocaleString('ru-RU') + ' ‚ÇΩ' : '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}</div>
                    `;
                    ordersList.appendChild(orderItem);
                });
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
            function loadFavorites() {
                const favoritesList = document.getElementById('favoritesList');
                if (!favoritesList) return;

                const favoritesItems = favorites.getItems();
                
                if (favoritesItems.length === 0) {
                    favoritesList.innerHTML = '<p style="text-align: center; color: var(--color-text-secondary);">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</p>';
                    return;
                }

                favoritesList.innerHTML = '';
                favoritesItems.forEach(item => {
                    const favoriteItem = document.createElement('div');
                    favoriteItem.className = 'favorite-item';
                    favoriteItem.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" class="favorite-item__image" 
                             onerror="this.src='https://via.placeholder.com/100x100?text=${encodeURIComponent(item.name)}'">
                        <div class="favorite-item__info">
                            <h3 class="favorite-item__name">${item.name}</h3>
                            <div class="favorite-item__price">${item.price.toLocaleString('ru-RU')} ‚ÇΩ</div>
                        </div>
                        <div class="favorite-item__actions">
                            <a href="product.html?id=${item.id}" class="btn btn--secondary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                            <button class="btn btn--primary add-to-cart-btn" data-product-id="${item.id}">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            <button class="btn btn--outline remove-favorite-btn" data-product-id="${item.id}">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    `;
                    favoritesList.appendChild(favoriteItem);
                });

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
                document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const productId = parseInt(this.getAttribute('data-product-id'));
                        cart.addItem(productId, 1);
                    });
                });

                document.querySelectorAll('.remove-favorite-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const productId = parseInt(this.getAttribute('data-product-id'));
                        favorites.removeItem(productId);
                        loadFavorites();
                    });
                });
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            if (account.isLoggedIn()) {
                loadAccountData();
            }
        });
    </script>
</body>
</html>

